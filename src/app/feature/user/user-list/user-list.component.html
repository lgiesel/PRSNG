<app-menu></app-menu>
<div class='component-content'>
	<div class=''>
		<div class='lefthalf'>
			<span class='component-title'>[{{title}}]</span> 
			 <span><a routerLink='/user/create'><img id='createnew' width='20' height='20' src='assets/add-new.png' title='Add New'></a></span>
			<!-- | <span><a routerLink='/user/list'>Back to list</a></span> -->
		</div>
		<div class='righthalf input-group'>
			<span class=''>Sort:</span>
			<select [(ngModel)]='selectedSortKey' class='custom-select text-sm-left'>
				<option *ngFor='let sortKey of sortKeys' value='{{sortKey}}'>{{sortKey}}</option>
			</select>
			<span>Order:</span>
			<select [(ngModel)]='sortDesc' class='custom-select text-sm-left'>
				<option value='asc'>Asc</option>
				<option value='desc'>Desc</option>
			</select>
		
		</div>
	</div>

<div> 
	<p *ngIf='!users'>The data is loading...</p>
	<!-- <p *ngIf='!user'>The data is loading... </p>  Shows loading msg while no user yet --> 
	<table class='table table-sm' *ngIf='users'>
		<tr>
			<th>ID</th>
			<th>Name</th>
			<th>Username</th>
			<!-- <th>Password</th> -->
			<th>Phone</th>
			<th>Email</th>
			<th>Priv</th>
			<!-- <th>Active</th> -->
			<th>Action</th>
		</tr>
		<tr *ngFor='let user of users | sort:selectedSortKey:sortDesc'>
			<td>{{user.Id}}</td>
			<td>{{user.FirstName}} {{user.LastName}}</td>
			<td>{{user.Username}}</td>
			<!-- <td>{{user.Password}}</td> -->
			<td>{{user.Phone}}</td>
			<td>{{user.Email}}</td>
			<td>
				{{user.IsAdmin ? 'Adm' : ''}} {{user.IsReviewer ? 'Rev' : ''}} {{user.IsActive ? 'Act' : ''}}</td>
			<td class='actions'>
				<a routerLink='/user/detail/{{user.Id}}'><img src='assets/detail.png' title='Detail'></a>
				<a routerLink='/user/edit/{{user.Id}}'><img src='assets/edit.png' title='Edit'></a>
			</td>
		</tr>
	</table>
	<p>{{searchCriteria}}</p>
</div>